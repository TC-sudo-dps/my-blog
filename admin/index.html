<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>TC Blog | æ–‡ç« å…§å®¹ç”Ÿæˆå™¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00d2ff; --bg: #0f172a; --card: #1e293b; --text: #f8fafc; }
        body { font-family: 'Noto Sans TC', sans-serif; background: var(--bg); color: var(--text); padding: 40px 5%; margin: 0; }
        .container { max-width: 900px; margin: 0 auto; background: var(--card); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h1 { color: var(--primary); text-align: center; }
        
        .field-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; color: #94a3b8; }
        
        input, select, textarea { 
            width: 100%; padding: 12px; margin: 5px 0; border-radius: 8px; 
            border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box;
        }
        textarea { height: 400px; font-family: 'Courier New', monospace; line-height: 1.6; }
        
        .hint { background: rgba(0, 210, 255, 0.1); color: var(--primary); padding: 10px; border-radius: 8px; font-size: 0.85rem; margin-bottom: 15px; }
        
        .btn-group { display: flex; gap: 10px; }
        button { 
            flex: 1; padding: 15px; border: none; border-radius: 8px; font-weight: bold; 
            cursor: pointer; transition: 0.3s; font-size: 1rem;
        }
        .btn-copy { background: var(--primary); color: #0f172a; }
        .btn-github { background: #24292e; color: white; text-decoration: none; display: flex; align-items: center; justify-content: center; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
    </style>
</head>
<body>

<div class="container">
    <h1>TC BLOG æ–‡ç« ç·¨è¼¯å™¨</h1>
    <div class="hint">
        ğŸ’¡ <b>ä½¿ç”¨æµç¨‹ï¼š</b> åœ¨æ­¤å¯«å®Œæ–‡ç« ï¼ˆå¯ Ctrl+V è²¼åœ–ï¼‰ â†’ é»æ“Šã€Œè¤‡è£½å…¨æ–‡ã€ â†’ é»æ“Šã€Œå‰å¾€ GitHub è²¼ä¸Šã€
    </div>

    <div class="field-group">
        <label>æ–‡ç« æ¨™é¡Œ</label>
        <input type="text" id="title" placeholder="è«‹è¼¸å…¥æ¨™é¡Œ">
    </div>

    <div class="field-group">
        <label>é¸æ“‡åˆ†é¡</label>
        <select id="category">
            <option value="æŠ€è¡“">æŠ€è¡“</option>
            <option value="è³‡å®‰">è³‡å®‰</option>
            <option value="ç”Ÿæ´»">ç”Ÿæ´»</option>
            <option value="éš¨ç­†">éš¨ç­†</option>
        </select>
    </div>

    <div class="field-group">
        <label>æ–‡ç« å…§å®¹ (æ”¯æ´ Ctrl+V è²¼ä¸Šåœ–ç‰‡)</label>
        <textarea id="content" placeholder="é–‹å§‹å¯«ä½œ..."></textarea>
    </div>

    <div class="btn-group">
        <button class="btn-copy" onclick="copyResult()">ğŸ“‹ è¤‡è£½å…¨æ–‡ä»£ç¢¼</button>
        <a href="https://github.com/TC-sudo-dps/my-blog/tree/main/posts" target="_blank" class="btn-github" style="flex:1; border-radius:8px; font-weight:bold;">
            å‰å¾€ GitHub Posts è³‡æ–™å¤¾
        </a>
    </div>
</div>

<script>
    const contentArea = document.getElementById('content');

    // è™•ç†è²¼ä¸Šåœ–ç‰‡è½‰ç‚º Base64
    contentArea.addEventListener('paste', function (e) {
        const items = (e.clipboardData || e.originalEvent.clipboardData).items;
        for (let item of items) {
            if (item.type.indexOf('image') !== -1) {
                const blob = item.getAsFile();
                const reader = new FileReader();
                reader.onload = function (event) {
                    const imgMarkdown = `\n![åœ–ç‰‡](${event.target.result})\n`;
                    const start = contentArea.selectionStart;
                    contentArea.value = contentArea.value.substring(0, start) + imgMarkdown + contentArea.value.substring(contentArea.selectionEnd);
                };
                reader.readAsDataURL(blob);
                e.preventDefault();
            }
        }
    });

    function copyResult() {
        const title = document.getElementById('title').value;
        const category = document.getElementById('category').value;
        const content = document.getElementById('content').value;
        const date = new Date().toISOString().split('T')[0];

        if (!title || !content) {
            alert('æ¨™é¡Œå’Œå…§å®¹éƒ½è¦å¡«å–”ï¼');
            return;
        }

        const result = `---
title: "${title}"
category: "${category}"
date: "${date}"
---

${content}`;

        navigator.clipboard.writeText(result).then(() => {
            alert('âœ… å…¨æ–‡å·²è¤‡è£½ï¼è«‹åˆ° GitHub å»ºç«‹æ–°æª”æ¡ˆä¸¦è²¼ä¸Šå…§å®¹ã€‚');
        });
    }
</script>
</body>
</html>
